<!DOCTYPE html>
<html>
<head>
    <title>Unit Data</title>
</head>
<body>
    <h1>Unit Data</h1>
    
    <!-- Dropdown box to select a unit -->
    <label for="unitSelect">Select a Unit:</label>
    <select id="unitSelect" name="unitSelect">
        {% for row in data %}
        <option value="{{ row[0] }}">{{ row[1] }}</option>
        {% endfor %}
    </select>
    
    <!-- Section to display prerequisites -->
    <h2>Prerequisites:</h2>
    <ul id="prerequisites"></ul>
    
    <script>
        // JavaScript code to fetch prerequisites when a unit is selected
        const unitSelect = document.getElementById('unitSelect');
        const prerequisitesList = document.getElementById('prerequisites');

        unitSelect.addEventListener('change', () => {
            const selectedUnitCode = unitSelect.value;
            
            // Make a request to the server to get prerequisites
            fetch(`/unit/${selectedUnitCode}`)
                .then(response => response.json())
                .then(data => {
                    prerequisitesList.innerHTML = ''; // Clear previous prerequisites
                    data.prerequisites.forEach(prerequisite => {
                        const listItem = document.createElement('li');
                        listItem.textContent = prerequisite;
                        prerequisitesList.appendChild(listItem);
                    });
                })
                .catch(error => console.error('Error fetching prerequisites:', error));
        });
    </script>
</body>
</html>
